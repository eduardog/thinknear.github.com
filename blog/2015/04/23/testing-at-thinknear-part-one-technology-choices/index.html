

<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Testing @ Thinknear - Part One: Technology Choices - Thinknear Engineering</title>
  <meta name="author" content="Thinknear by Telenav">

  
  <meta name="description" content="At Thinknear we believe automated tests are essential. Having strong automated test coverage allows the team to: deploy production code faster, while &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://engineering.thinknear.com/blog/2015/04/23/testing-at-thinknear-part-one-technology-choices">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Thinknear Engineering" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>


  <body   >

    <header role="banner">
      <nav role="navigation">
        <div class="container">
  <a href="/"><img src="/images/thinknear_engineering_logo.png" alt="Thinknear Engineering" /></a>
  <ul class="subscription" data-subscription="rss">
    <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
    
  </ul>
    
  <form action="https://www.google.com/search" method="get">
    <fieldset role="search">
      <input type="hidden" name="q" value="site:engineering.thinknear.com" />
      <input class="search" type="text" name="q" results="0" placeholder="Search"/>
    </fieldset>
  </form>
    
  <ul class="main-navigation">
  <li><a href="//www.thinknear.com">Thinknear</a></li>
  <li><a href="/values">About Us</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="//www.thinknear.com/career">Careers</a></li>
</ul>

</div>

      </nav>

      <hgroup>
<!-- <h1><a href="/">Thinknear Engineering</a></h1> -->
  <h1>
    <a href="/">
      <img src="/images/thinknear_engineering_logo_pin.png" alt="Thinknear Engineering" />
    </a>
    Thinknear Engineering
  </h1>
  
    <h2>Big Data, High Frequency</h2>
  
</hgroup>


    </header>

    <div id="main">
      <div id="content">
        <div>
  <article class="hentry" role="article">
    
  <header>
    
      <h1 class="entry-title">Testing @ Thinknear - Part One: Technology Choices</h1>
    

    
      <p class="meta">
        
  








    <time class='entry-date' datetime='2015-04-23T12:50:04-07:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2015</span></span></time>
  
        
      </p>
    
  </header>



  <div class="entry-content"><p>At Thinknear we believe automated tests are essential. Having strong automated test coverage allows the team to:</p>

<ul>
<li>deploy production code faster, while maintaining quality</li>
<li>make bolder changes to the system with confidence</li>
<li>increase confidence that a certain change won&rsquo;t break important features of the systems</li>
<li>decrease TCO for the entire product lifecycle</li>
<li>analyze how the product would scale up/out, through PRS (Performance, Reliability, Stress) tests</li>
</ul>


<p>Thinknear&rsquo;s systems are based around two main development languages, Ruby and Java. Java is used for the real-time, high frequency bidding engine, while Ruby (on Rails)
is used elsewhere.</p>

<p>We test at the unit level, service level and integration level (end-to-end) using a veriety of tools:</p>

<ul>
<li>for the Ruby on Rails systems: RSpec, Capybara, Poltergeist, Karma</li>
<li>for the Java-based systems: JUnit, Hamcrest, Sonar</li>
<li>for the build management system: Jenkins</li>
</ul>


<p>Those tools were chosen in correlation with those development languages, the only exception being that we chose to write the service level tests
for our Java-based systems in RSpec.</p>

<ol>
<li><p>Why <strong>RSpec</strong>? The layout of the tests focuses on how the software should behave (BDD) and follows natural language in a very close manner, the vocabulary and
structure of the tests being more intuitive than we found in other testing frameworks. An example is the matchers, supporting both positive and negative expectations.</p></li>
<li><p>Why <strong>Capybara</strong>? Capybara is used for UI browser testing, it allows easy switching of drivers, provides an efficient DSL for interacting with the DOM. We also
evaluated Selenium, but chose Capybara because we found it to allow faster test development.
Writing 99% reliable code still comes with experience, ways to get to that percentage will be discussed in another post.</p></li>
<li><p>Why <strong>Poltergeist</strong>? Driver for PhantomJS (headless browser built on WebKit), the main reason for using it for our Capybara tests is speed. In our experiments,
it proved 4-10 times faster than Selenium&rsquo;s full browser driver. Poltergeist has very clear error messages and it can re-raise Javascript errors from the page.</p></li>
<li><p>Why <strong>Karma</strong>? Our UI relies heavily on AngularJS, therefore Karma, built by the AngularJS team, is the default solution for testing Javascript at the unit test level.
It supports many plugins, and lets you test in a cross-browser environment.</p></li>
<li><p>Why <strong>JUnit</strong>? The standard for testing in Java, JUnit is very well documented, supported by almost any IDE, is used for unit level testing,
developers writing test cases while developing the software. TestNG is also a popular framework, we went with JUnit since this is what the team was most experienced with.</p></li>
<li><p>Why <strong>Hamcrest</strong>? A library of matcher objects, makes the code more readable by allowing match rules to be defined declaratively (closer to natural language).
We use it in combination with JUnit for our Java-based software.</p></li>
<li><p>Why <strong>Sonar</strong>? Sonar provides a plugin architecture for different analysis tools like FindBugs, Squid etc. It can aggregate information from those analyzers,
including those for understanding unit test code coverage. It has dashboards and historical views across all projects, and works well with the Jenkins build pipeline.
Sonar can also analyze other languages, although that feature can be immature depending on the language. Besides code coverage, we use it to detect package cycles
(circular dependencies) and to analyze code complexity.</p></li>
<li><p>Why <strong>Jenkins</strong>? Popular continuous build tool, free and open source, Jenkins supports a wide array of plugins and features like support for SCM changes, console logs,
email notifications, build exclusions and many others. Its flexibility allows it to fit in a variety of environments and makes it easy to develop complicated workflows.</p></li>
</ol>

</div>


    <footer>
      <p class="meta">
        
  

<span class="byline author vcard">Posted by <span class="fn">Ciprian Costin</span></span>

        
  








    <time class='entry-date' datetime='2015-04-23T12:50:04-07:00'><span class='date'><span class='date-month'>Apr</span> <span class='date-day'>23</span><span class='date-suffix'>rd</span>, <span class='date-year'>2015</span></span></time>
  
        


      </p>
      
        <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://engineering.thinknear.com/blog/2015/04/23/testing-at-thinknear-part-one-technology-choices/" data-via="ThinknearEng" data-counturl="http://engineering.thinknear.com/blog/2015/04/23/testing-at-thinknear-part-one-technology-choices/" >Tweet</a>
  
  
  
</div>

      
      <p class="meta">
        
          <a class="basic-alignment left" href="/blog/2015/03/30/rails-migration-and-dependencies-on-user-defined-tables-slash-views/" title="Previous Post: Rails Migration and Dependencies on User Defined Tables/Views">&laquo; Rails Migration and Dependencies on User Defined Tables/Views</a>
        
        
      </p>
    </footer>
  </article>
  
    <section>
      <h1>Comments</h1>
      <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    </section>
  
</div>

  <aside class="sidebar">
    
      <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/04/23/testing-at-thinknear-part-one-technology-choices/">Testing @ Thinknear - Part One: Technology Choices</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/30/rails-migration-and-dependencies-on-user-defined-tables-slash-views/">Rails Migration and Dependencies on User Defined Tables/Views</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/09/interviewing-with-thinknear/">Interviewing With Thinknear</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/21/understanding-the-decision-to-move-from-aws-emr-slash-hive-to-redshift/">Understanding the Decision to Move From AWS EMR/Hive to Redshift</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/07/advanced-angular-ui-router-part-i/">Advanced Angular UI Router Part I: Nested Views</a>
      </li>
    
  </ul>
</section>





    
  </aside>


      </div>
    </div>

    <footer role="contentinfo">
      <p>
  Copyright &copy; 2015 - Thinknear by Telenav -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>


    </footer>

    

<script type="text/javascript">
      var disqus_shortname = 'thinknearengineering';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://engineering.thinknear.com/blog/2015/04/23/testing-at-thinknear-part-one-technology-choices/';
        var disqus_url = 'http://engineering.thinknear.com/blog/2015/04/23/testing-at-thinknear-part-one-technology-choices/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>






  </body>
</html>
